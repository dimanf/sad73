/*!
 * jQuery UI Aurora 0.8
 *
 * Copyright 2012
 * Licensed under the GPL Version 2 license.
 *
 * http://киноархив.com/ru/разное/jqueryui-aurora-ru.html
 * http://киноархив.com/en/others/jqueryui-aurora-en.html
 */
(function(a,b,c,d){var e={init:function(b){b=a.extend({},a.fn.aurora.settings,b);var c=a(this),e=false,f="",g="";if(b.show_close_btn){f=' <a href="javascript:void(0);" class="close_msg">'+b.close_btn_text+"</a>"}if(b.show_hide_btn){g=' <a href="javascript:void(0);" class="hide_msg">'+b.hide_btn_text+"</a>"}if(b.leave_only_first===true&&a(".ui-message").length!=0){var h=a(".ui-message");if(b.msg_type_global_container!=""){h.eq(0).find(" > div > div").removeProp("class").prop("class","ui-corner-all ui-state-"+b.msg_type_global_container)}if(b.msg_type_global_icon!=""){h.eq(0).find("span:first").removeProp("class").prop("class","ui-icon ui-icon-"+b.msg_type_global_icon)}if(b.text!=""){h.eq(0).find("span:last").html(b.text+g+f)}a(".ui-message:hidden").eq(0).animate({opacity:"toggle"},b.speed,b.effect,b.onComplete)}else{if(b.msg_type_custom===true){container_class=b.msg_type_custom_container;icon_class=b.msg_type_custom_icon}else{container_class=b.msg_type_global_container;icon_class=b.msg_type_global_icon}if(b.font_override===true){if(b.font_style.style!=d){span_text_style=b.font_style.style;span_text_selector=""}else{span_text_style="";span_text_selector=' class="'+b.font_style.selector+'"'}}else{span_text_style="overflow: hidden; display: block; padding-left: 5px;";span_text_selector=""}var i='<div class="ui-message" style="display: none; margin: '+b.message_margin+';"><div class="ui-widget"><div style="padding: '+b.div_padding+';" class="ui-state-'+container_class+' ui-corner-all"><div style="margin: '+b.div_margin+'"><span style="float: left; margin-right: '+b.span_margin+';" class="ui-icon ui-icon-'+icon_class+'"></span><span style="'+span_text_style+'"'+span_text_selector+">"+b.text+g+f+"</span></div></div></div></div>";if(b.create_before&&b.create_before!=""){var j=a(i).insertBefore(b.create_before).animate({opacity:"toggle"},b.speed,b.effect,b.onComplete)}else if(b.prepend&&b.prepend!=""){var j=a(i).prependTo(b.prepend).animate({opacity:"toggle"},b.speed,b.effect,b.onComplete)}else if(b.append&&b.append!=""){var j=a(i).appendTo(b.append).animate({opacity:"toggle"},b.speed,b.effect,b.onComplete)}else if(b.create_after&&b.create_after!=""){var j=a(i).insertAfter(b.create_after).animate({opacity:"toggle"},b.speed,b.effect,b.onComplete)}else{var k=c.length>0?c:"body";var j=a(i).appendTo(k).animate({opacity:"toggle"},b.speed,b.effect,b.onComplete)}a(".hide_msg").live("click",function(c){b.onHide();var d=a(this).closest(".ui-message");d.find(".ui-corner-all").css("height","26");d.css({width:"46",height:"34"});d.find(".ui-icon").prop("title",b.hidden_tooltip).css("cursor","pointer");a(this).parent("span").hide();e=true});a("span.ui-icon").live("click",function(b){if(e===true){var c=a(this).closest(".ui-message");c.css({width:"100%",height:"auto"});c.find("span:last").show();c.find(".ui-corner-all").css("height","auto");a(this).css("cursor","default").prop("title","")}});a(".close_msg").live("click",function(c){b.onClose();a(this).closest(".ui-message").remove()})}if(b.auto_hide||b.auto_remove){if(c.length>0){setTimeout(function(){if(b.auto_hide){c.children(".ui-message").hide()}else if(b.auto_remove){c.children(".ui-message").remove()}},b.auto_hide_timeout)}else{setTimeout(function(){if(b.auto_hide){a(j).hide()}else if(b.auto_remove){a(j).remove()}},b.auto_hide_timeout)}}return this},toggleVis:function(b){b=a.extend({},a.fn.aurora.toggleVisSettings,b);if(b.action=="hide"){if(b.elems_indexes.length==0){a(".ui-message").animate({opacity:"hide"},b.speed,b.effect)}else{for(var c=0;c<b.elems_indexes.length;c++){a(".ui-message").eq(b.elems_indexes[c]).animate({opacity:"hide"},b.speed,b.effect)}}}else if(b.action=="show"){if(b.elems_indexes.length==0){a(".ui-message").animate({opacity:"show"},b.speed,b.effect)}else{for(var c=0;c<b.elems_indexes.length;c++){a(".ui-message").eq(b.elems_indexes[c]).animate({opacity:"show"},b.speed,b.effect)}}}else{if(b.elems_indexes!=""){for(var c=0;c<b.elems_indexes.length;c++){a(".ui-message").eq(b.elems_indexes[c]).animate({opacity:"toggle"},b.speed,b.effect)}}else{a(".ui-message").animate({opacity:"toggle"},b.speed,b.effect)}}return this},toggleType:function(b){b=a.extend({},a.fn.aurora.toggleTypeSettings,b);if(typeof b.elems_indexes[0]==="number"||b.elems_indexes=="all"){if(b.msg_type_container!=""){if(b.elems_indexes=="all"){a(".ui-message").find(" > div > div").removeProp("class").prop("class","ui-corner-all ui-state-"+b.msg_type_container)}else{for(var c=0;c<b.elems_indexes.length;c++){a(".ui-message").eq(b.elems_indexes[c]).find(" > div > div").removeProp("class").prop("class","ui-corner-all ui-state-"+b.msg_type_container)}}}if(b.msg_type_icon!=""){if(b.elems_indexes=="all"){a(".ui-message").find("span:first").removeProp("class").prop("class","ui-icon ui-icon-"+b.msg_type_icon)}else{for(var c=0;c<b.elems_indexes.length;c++){a(".ui-message").eq(b.elems_indexes[c]).find("span:first").removeProp("class").prop("class","ui-icon ui-icon-"+b.msg_type_icon)}}}if(b.text!=""){if(b.elems_indexes=="all"){a(".ui-message").find("span:last").html(b.text)}else{for(var c=0;c<b.elems_indexes.length;c++){a(".ui-message").eq(b.elems_indexes[c]).find("span:last").html(b.text)}}}}return this},destroy:function(b){b=a.extend({},a.fn.aurora.destroySettings,b);if(typeof b.elems_indexes[0]==="number"||b.elems_indexes=="all"){if(b.elems_indexes=="all"){a("body").find(".ui-message").remove()}else{a(".ui-message").filter(function(a){return b.elems_indexes.indexOf(a)!=-1}).remove()}}return this}};a.fn.aurora=function(b){if(e[b]){return e[b].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof b==="object"||!b){return e.init.apply(this,arguments)}else{a.error('Method "'+b+'" does not exist!')}};a.aurora=function(b){return a.fn.aurora(b)};a.fn.aurora.settings={text:"",msg_type_global_container:"highlight",msg_type_global_icon:"info",msg_type_custom:false,msg_type_custom_container:"highlight",msg_type_custom_icon:"info",font_override:false,font_style:{style:"",selector:""},message_margin:"0.4em 0 0 0",div_padding:"0 0.5em",div_margin:"5px !important",span_margin:"0 0.3em 0 0",create_before:"",create_after:"",prepend:"",append:"",effect:"swing",speed:400,onComplete:function(){},onClose:function(){},onHide:function(){},leave_only_first:false,show_close_btn:false,close_btn_text:"[Close]",show_hide_btn:false,hide_btn_text:"[Hide]",hidden_tooltip:"Click for show",auto_hide:false,auto_remove:false,auto_hide_timeout:2e3};a.fn.aurora.toggleVisSettings={action:"toggle",elems_indexes:[],effect:"swing",speed:400};a.fn.aurora.toggleTypeSettings={msg_type_container:"",msg_type_icon:"",elems_indexes:[],text:""};a.fn.aurora.destroySettings={elems_indexes:[]}})(jQuery,window,document)